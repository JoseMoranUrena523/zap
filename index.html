<!DOCTYPE html>
<html>
    <head>
        <script async src="https://arc.io/widget.min.js#TM4jJ1TA"></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/public/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/public/favicon-16x16.png">
        <link rel="manifest" href="/public/site.webmanifest">
        <link rel="mask-icon" href="/public/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="/public/favicon.ico">
        <meta name="apple-mobile-web-app-title" content="SAT ZAP">
        <meta name="application-name" content="SAT ZAP">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-config" content="/public/browserconfig.xml">
        <meta name="theme-color" content="#000000">
        <title>SAT ZAP</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
        <style>
          .modal-dialog {
            width: 90vw;
            max-width: 90%;
          }
            
          .modal-body {
            font-size: 16px;
            line-height: 1.6;
          }
          .modal-body p {
            margin-bottom: 1rem;
          }
          .modal-body ol {
            padding-left: 1.5rem;
          }

          .modal-content {
            text-align: center;
          }
        </style>
    </head>
    <body>
      <center>
        <div class="modal fade" id="installModal" tabindex="-1" aria-labelledby="installModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="installModalLabel">Add To Home Screen</h5>
              </div>
              <div class="modal-body">
                <img src="https://friend.tech/savePhoneIcon.png">
                <br><br>
                To install the app, you can add this website to your device's home screen. Follow these general steps:
                <br><br>
                - Open your browser's menu or options.
                - Look for an option like "Add to Home Screen" or "Install App."
                - Follow the prompts to add the app icon to your home screen.
                <br><br>
                Once added, you can easily access the sat-zap.com app from your home screen whenever you want.
              </div>
            </div>
          </div>
        </div>
          
        <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center">
          <h1><img src="/public/lightning-bolt.png" alt="Lightning Bolt" width="128" height="128"></h1>
          <br>
          <h1 style="color: orange;">SAT ZAP</h1>
          <br>
          <p>Invest in your friends using <a href="https://lightning.network">Lightning</a>.</p>
          <br><br><br><br>
          <a href="/login" class="text-center" id="loginButton">Log In</a>
          <p id="browserText" style="display: none;">ðŸ“² Visit sat-zap.com on a phone to install the app.</p>
          <br>
          <a href="/privacy-policy">Check out our privacy policy -></a>
        </div>
      </center>
        <script>
          function getPWADisplayMode() {
            const isStandalone = window.matchMedia('(display-mode: standalone)').matches;

            if (document.referrer.startsWith('android-app://')) {
              return 'twa';
            } else if (navigator.standalone || isStandalone) {
              return 'standalone';
            }
            return 'browser';
          }

          if (getPWADisplayMode() === 'browser') {
            document.getElementById('loginButton').style.display = "none";
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
              const installModal = new bootstrap.Modal(document.getElementById('installModal'));
              installModal.show();
            } else {
              document.getElementById('browserText').style.display = "block";
            }
          }
        </script>
    </body>
</html>
